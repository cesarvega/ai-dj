<div class="lg:max-w-screem h-fill mx-auto p-4 bg-white rounded-lg shadow-md lg:flex lg:flex-wrap lg:px-40">
  <div class="lg:w-1/2 pr-4">
    <div class="relative">
      <img class="w-full h-96 object-cover rounded-lg" [src]="bookInfoDetails?.bookImagePath" alt="Book Image">
      <div class="absolute inset-0 flex items-center justify-center">
        <div class="flex items-center justify-center h-screen ">
          <!-- <button 
            (click)="togglePlay()" 
            class="w-16 h-16 bg-blue-500 text-white rounded-full flex items-center justify-center focus:outline-none">
            <svg 
              *ngIf="!isPlaying" 
              xmlns="http://www.w3.org/2000/svg" 
              class="h-8 w-8" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke="currentColor" 
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-6.518 3.845A1 1 0 017 14.118V9.882a1 1 0 011.234-.97l6.518 3.845a1 1 0 010 1.736z" />
            </svg>
            <svg 
              *ngIf="isPlaying" 
              xmlns="http://www.w3.org/2000/svg" 
              class="h-8 w-8" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke="currentColor" 
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m5-6.378C19 5.79 17.21 4 15.128 4H8.872C6.79 4 5 5.79 5 7.872v8.256C5 18.21 6.79 20 8.872 20h6.256C17.21 20 19 18.21 19 16.128V7.872z" />
            </svg>
          </button> -->
        </div>
      </div>
    </div>



  </div>
  <div class="lg:w-1/2 pl-4">
    <h2 class="text-2xl font-bold mb-2">{{ bookInfoDetails?.bookTitle }}</h2>
    <div class="flex items-center mb-2">
      <div class="flex text-yellow-400">
        <!-- Mostrar estrellas basadas en el promedio ponderado -->
        <ng-container *ngFor="let i of [1, 2, 3, 4, 5]">
          <svg *ngIf="i <= averageRating" class="w-5 h-5 fill-current" viewBox="0 0 24 24">
            <path
              d="M12 17.27l6.18 3.73-1.64-7.03 5.46-4.73-7.1-.61L12 2.5 8.1 8.63l-7.1.61 5.46 4.73-1.64 7.03L12 17.27z" />
          </svg>
          <svg *ngIf="i > averageRating" class="w-5 h-5 fill-current text-gray-300" viewBox="0 0 24 24">
            <path
              d="M12 17.27l6.18 3.73-1.64-7.03 5.46-4.73-7.1-.61L12 2.5 8.1 8.63l-7.1.61 5.46 4.73-1.64 7.03L12 17.27z" />
          </svg>
        </ng-container>
      </div>
    </div>
    <p class="text-gray-600 mb-4">{{ bookInfoDetails?.bookDescription }}</p>
    <div class="max-h-64 overflow-y-auto mb-4">
      <ul class="list-disc pl-4 mb-4">
        <li *ngFor="let chapter of bookInfoDetails?.bookChaptersAndAudioPaths">
          {{ chapter.name }}
        </li>
      </ul>
    </div>
    <div class="flex justify-between items-center mb-10">
      <button (click)="togglePlay()" mat-raised-button color="primary" class="focus:outline-none bg-blue">
        <div class="flex items-center">
          Preview
          <svg *ngIf="!isPlaying" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M14.752 11.168l-6.518 3.845A1 1 0 017 14.118V9.882a1 1 0 011.234-.97l6.518 3.845a1 1 0 010 1.736z" />
          </svg>
          <svg *ngIf="isPlaying" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M10 9v6m4-6v6m5-6.378C19 5.79 17.21 4 15.128 4H8.872C6.79 4 5 5.79 5 7.872v8.256C5 18.21 6.79 20 8.872 20h6.256C17.21 20 19 18.21 19 16.128V7.872z" />
          </svg>
        </div>
      </button>
      <button *ngIf="this.aiStore.userLogued() !==null" (click)="openBookPlayer()" mat-raised-button color="primary" >Open Book</button>

    </div>
    <p class="text-gray-600 mb-2 ">Precio: {{ bookInfoDetails?.bookPrice }}</p>
    <p class="text-green-500 mb-2">Promocion {{ bookInfoDetails?.bookPromoPrice }}</p>
    <p class="text-gray-600 mb-2" *ngIf="bookInfoDetails?.bookPromotion">{{ bookInfoDetails?.bookPromotion }}</p>
  </div>
  <div class=" w-full">
    <app-buttons-sales></app-buttons-sales>
  </div>
  <app-audio-book-reviews class="w-screen"></app-audio-book-reviews>
</div>